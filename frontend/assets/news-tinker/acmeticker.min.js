(function($){'use strict';$.fn.AcmeTicker=function(options){let opts=$.extend({},$.fn.AcmeTicker.defaults,options);let thisTicker=$(this),intervalID,timeoutID,isPause=!1;thisTicker.wrap("<div class='acmeticker-wrap'></div>");thisTicker.parent().css({position:'relative'})
thisTicker.children("li").not(":first").hide();init();function init(){switch(opts.type){case 'vertical':case 'horizontal':vertiZontal()
break;case 'marquee':marQuee()
break;case 'typewriter':typeWriter()
break;default:break}}
function vertiZontal(prevNext=!1){let speed=opts.speed,autoplay=opts.autoplay,direction=opts.direction;if(prevNext){speed=0;autoplay=0;clearInterval(intervalID);intervalID=!1}
function play(){if(isPause){clearInterval(intervalID);intervalID=!1;return!1}
let dChild,eqType,mType,mVal;dChild=thisTicker.find('li:first');if(direction==='up'||direction==='right'){eqType='-='}else{eqType='+='}
if(opts.type==='horizontal'){mType='left';mVal=dChild.outerWidth(!0)}else{mType='margin-top';mVal=dChild.outerHeight(!0)}
if(prevNext==='prev'){thisTicker.find('li:last').detach().prependTo(thisTicker)}else{dChild.detach().appendTo(thisTicker)}
thisTicker.find('li').css({opacity:'0',display:'none'});thisTicker.find('li:first').css({opacity:'1',position:'absolute',display:'block',[mType]:eqType+mVal+'px',});thisTicker.find('li:first').animate({[mType]:'0px'},speed,function(){clearInterval(intervalID);intervalID=!1;vertiZontal()})}
if(intervalID){return!1}
intervalID=setInterval(play,autoplay)}
function typeWriter(prevNext=!1){if(isPause){return!1}
if(prevNext){clearInterval(intervalID);intervalID=!1;clearTimeout(timeoutID);timeoutID=!1;if(prevNext==='prev'){thisTicker.find('li:last').detach().prependTo(thisTicker)}else{thisTicker.find('li:first').detach().appendTo(thisTicker)}}
let speed=opts.speed,autoplay=opts.autoplay,typeEl=thisTicker.find('li:first'),wrapEl=typeEl.children(),count=0;if(typeEl.attr('data-text')){wrapEl.text(typeEl.attr('data-text'))}
let allText=typeEl.text();thisTicker.find('li').css({opacity:'0',display:'none'});function tNext(){thisTicker.find('li:first').detach().appendTo(thisTicker);clearTimeout(timeoutID);timeoutID=!1;typeWriter()}
function type(){count++;let typeText=allText.substring(0,count);if(!typeEl.attr('data-text')){typeEl.attr('data-text',allText)}
if(count<=allText.length){wrapEl.text(typeText);typeEl.css({opacity:'1',display:'block',})}else{clearInterval(intervalID);intervalID=!1;timeoutID=setTimeout(tNext,autoplay)}}
if(!intervalID){intervalID=setInterval(type,speed)}}
function marQuee(){let speed=opts.speed,direction=opts.direction,wrapWidth,dir='left',totalTravel,defTiming,listWidth=0,mPause=!1;mInit();function mInit(){thisTicker.css({position:'absolute'})
thisTicker.find('li').css({display:'inline-block',marginRight:'10px',});let tickerList=thisTicker.find("li");wrapWidth=thisTicker.parent().outerWidth(!0);if(direction==='right'){dir='right'}
thisTicker.width(10000);tickerList.each(function(){listWidth+=$(this).outerWidth(!0)+5});thisTicker.width(listWidth);totalTravel=listWidth+wrapWidth;defTiming=totalTravel/speed;marQueeIt(listWidth,listWidth/speed)}
function marQueeIt(lPos,lSpeed){thisTicker.animate({[dir]:'-='+lPos},lSpeed,"linear",function(){thisTicker.css({[dir]:wrapWidth});marQueeIt(totalTravel,defTiming)})}
function mRestart(){let offset=thisTicker.offset(),rOffset=direction==='right'?(listWidth-offset.left):offset.left,remainingSpace=rOffset+listWidth,remainingTime=remainingSpace/speed;marQueeIt(remainingSpace,remainingTime)}
function mToggle(){mPause=!mPause;$(document).trigger('acmeTickerToggle',thisTicker,mPause)
if(mPause){thisTicker.stop()}else{mRestart()}}
opts.controls.toggle&&opts.controls.toggle.on('click',function(e){mToggle()});if(opts.pauseOnHover){thisTicker.on('mouseenter',function(){thisTicker.stop()}).on('mouseleave',function(){mRestart()})}
if(opts.pauseOnFocus){thisTicker.on('focusin',function(){thisTicker.stop()}).on('focusout',function(){mRestart()})}}
if(opts.type!=='marquee'){opts.controls.prev&&opts.controls.prev.on('click',function(e){e.preventDefault();switch(opts.type){case 'typewriter':typeWriter('prev')
break;default:vertiZontal('prev')
break}});opts.controls.next&&opts.controls.next.on('click',function(e){e.preventDefault();switch(opts.type){case 'typewriter':typeWriter('next')
break;default:vertiZontal('next')
break}});function restart(){if(!isPause){init()}}
opts.controls.toggle&&opts.controls.toggle.on('click',function(e){e.preventDefault();isPause=!isPause;$(document).trigger('acmeTickerToggle',thisTicker,isPause)
restart()});if(opts.pauseOnHover){thisTicker.on('mouseenter',function(){isPause=!0;restart()}).on('mouseleave',function(){isPause=!1;restart()})}
if(opts.pauseOnFocus){thisTicker.on('focusin',function(){isPause=!0;restart()}).on('focusout',function(){isPause=!1;restart()})}}};$.fn.AcmeTicker.defaults={type:'horizontal',autoplay:2000,speed:50,direction:'up',pauseOnFocus:!0,pauseOnHover:!0,controls:{prev:'',next:'',toggle:''}}})(jQuery)